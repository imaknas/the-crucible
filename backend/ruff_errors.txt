F401 [*] `utils.clean_string` imported but unused
  --> graph.py:14:33
   |
12 | from routers.models import MODEL_REGISTRY
13 |
14 | from utils import extract_text, clean_string
   |                                 ^^^^^^^^^^^^
15 |
16 | load_dotenv()
   |
help: Remove unused import: `utils.clean_string`

F811 [*] Redefinition of unused `clean_string` from line 14
  --> graph.py:30:37
   |
28 |     5. prune_history: If True, uses the LAST summary marker to jump context.
29 |     """
30 |     from utils import extract_text, clean_string
   |                                     ^^^^^^^^^^^^ `clean_string` redefined here
31 |     from langchain_core.messages import SystemMessage, HumanMessage, AIMessage
   |
  ::: graph.py:14:33
   |
12 | from routers.models import MODEL_REGISTRY
13 |
14 | from utils import extract_text, clean_string
   |                                 ------------ previous definition of `clean_string` here
15 |
16 | load_dotenv()
   |
help: Remove definition: `clean_string`

F401 [*] `utils.clean_string` imported but unused
  --> graph.py:30:37
   |
28 |     5. prune_history: If True, uses the LAST summary marker to jump context.
29 |     """
30 |     from utils import extract_text, clean_string
   |                                     ^^^^^^^^^^^^
31 |     from langchain_core.messages import SystemMessage, HumanMessage, AIMessage
   |
help: Remove unused import: `utils.clean_string`

F841 Local variable `keep_as_is` is assigned to but never used
   --> graph.py:436:9
    |
434 |         # Keep the system instruction AND the last 5 messages as-is
435 |         to_summarize = messages[:-5]
436 |         keep_as_is = messages[-5:]
    |         ^^^^^^^^^^
437 |
438 |         def format_msg(m):
    |
help: Remove assignment to unused variable `keep_as_is`

F841 Local variable `last_msg_text` is assigned to but never used
   --> history_tree.py:238:9
    |
236 |             else None
237 |         )
238 |         last_msg_text = ""
    |         ^^^^^^^^^^^^^
239 |         if last_msg_obj:
240 |             raw_content = (
    |
help: Remove assignment to unused variable `last_msg_text`

F821 Undefined name `result_messages`
   --> main.py:320:66
    |
318 |                     return
319 |
320 |             if not renamed and len(initial_checkpoints) == 0 and result_messages:
    |                                                                  ^^^^^^^^^^^^^^^
321 |                 renamed = True
322 |                 asyncio.create_task(
    |

F821 Undefined name `result_messages`
   --> main.py:323:51
    |
321 |                 renamed = True
322 |                 asyncio.create_task(
323 |                     auto_rename_thread(thread_id, result_messages, websocket, ws_lock)
    |                                                   ^^^^^^^^^^^^^^^
324 |                 )
    |

Found 7 errors.
[*] 3 fixable with the `--fix` option (2 hidden fixes can be enabled with the `--unsafe-fixes` option).
